<!DOCTYPE html>
<html>
<head>
    <title>CalcuSearch</title>
    <link rel="stylesheet" type="text/css" href="../CSS/styles.css">
    <script src="../scripts/script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <style>
        #loading {
            display: none;
            position: fixed;
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.5em;
            color: #333;
        }
    </style>
</head>
<body class="bg-light">

    <nav class="navbar navbar-expand-lg navbar-dark bg-secondary">
        <div class="container">
            <a class="navbar-brand" href="/">CalcuSearch</a>
        </div>
    </nav>

    <form action="/exchange_data" method="POST" onsubmit="showLoading()" class="container mt-5">
        <div class="mb-3">
            <input class="form-control" type="text" name="query" placeholder="Enter your calculus search" required>
        </div>
        <button class="btn btn-primary" type="submit">Search</button>
    </form>

    <div id="loading">‚è≥ Please wait, compiling info...</div>

    <img id="Image" src="{{ url_for('static', filename='assets/FirstFramefr.png') }}"
        alt="intro" style="width: 100%; height: auto; z-index: 100; width: 100%; position: fixed; top: 0; left: 0; background-color: #333;">

    <script>
        window.onload = function() {
        document.getElementById("loading").style.display = "none";
        
            const gifPath = "{{ url_for('static', filename='assets/Calcuintro.gif') }}";
            document.getElementById("Image").src = gifPath + "?" + new Date().getTime();

            setTimeout(() => {
                document.getElementById("Image").style.display = "none";
            }, 4800); 
        };

        function showLoading() {
            document.getElementById("loading").style.display = "block";
        }
    </script>
</body>
</html>
